# ZenBlock 更新日志

## 最新更新 (2025-12-29)

### ✨ 新功能

1. **主题切换**
   - 添加亮色/暗色主题切换按钮
   - 所有页面完美适配深色模式
   - 主题偏好保存到本地存储

2. **语言切换**
   - 一键切换中英文界面
   - 保持在当前页面的语言切换

3. **一键安装脚本**
   - 点击"一键安装"直接下载 `.user.js` 文件
   - 浏览器自动识别并提示安装到 Tampermonkey/ScriptCat

4. **多网站管理**
   - 支持添加多个网站
   - 仪表盘可按网站筛选查看数据
   - 数据库优化索引提升查询速度

5. **界面优化**
   - 修复输入框在深色模式下文字颜色问题
   - 修复脚本输出代码在深色模式下的可读性
   - 所有图表组件支持深色模式
   - 更新网站标题和图标

### 🛠️ 技术改进

1. **数据库优化**
   - 为 `source` 字段添加索引
   - 添加复合索引 `(source, timestamp)`
   - 提升多网站查询性能

2. **启动脚本**
   - 修复 Windows bat 脚本编码问题
   - 使用 UTF-8 编码避免中文乱码
   - 添加生产环境部署脚本

3. **代码质量**
   - 所有组件支持深色模式
   - 响应式设计优化
   - 无障碍访问改进

## 使用指南

### 启动开发环境

Windows:
```cmd
start.bat
```

Linux/Mac:
```bash
chmod +x start.sh
./start.sh
```

### 生产部署

Windows:
```cmd
deploy.bat
```

Linux/Mac:
```bash
chmod +x deploy.sh
./deploy.sh
```

### 访问地址

- 中文版: http://localhost:3000/zh
- 英文版: http://localhost:3000/en

## 已解决的问题

- ✅ 输入框文字颜色在深色背景下不可见
- ✅ 脚本输出代码在深色背景下不可见
- ✅ 缺少一键安装按钮
- ✅ 无法管理多个网站
- ✅ 无法按网站筛选数据
- ✅ 网站标题使用默认值
- ✅ Bat 脚本中文乱码问题
- ✅ 缺少主题切换功能
- ✅ 缺少语言切换功能

## 下一步计划

- [ ] Docker 容器化部署
- [ ] 导出数据为 CSV
- [ ] 网站黑名单管理界面
- [ ] 更多图表类型
- [ ] 移动端优化
- [ ] PWA 支持

## 反馈

如有问题或建议，请提交 Issue。
